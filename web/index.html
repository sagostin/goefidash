<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Speeduino Dash</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="dash" class="dash">
        <!-- Main values bar -->
        <div class="main-bar">
            <div class="rpm-section">
                <span class="big-value" id="rpmValue">0</span>
                <span class="big-label">RPM</span>
            </div>

            <div class="center-section">
                <span class="engine-status" id="engineStatus">OFF</span>
                <span class="gear-display" id="gearDisplay">N</span>
            </div>

            <div class="speed-section">
                <div class="speed-main">
                    <span class="big-value cyan" id="speedValue">0</span>
                    <span class="big-label" id="speedUnit">km/h</span>
                </div>
                <div class="odo-box">
                    <div class="odo-row">
                        <span class="odo-label">ODO</span>
                        <span class="odo-val" id="odoTotal">0.0</span>
                        <span class="odo-unit" id="odoDistUnit">km</span>
                    </div>
                    <div class="odo-row">
                        <span class="odo-label">TRIP</span>
                        <span class="odo-val" id="odoTrip">0.0</span>
                        <span class="odo-unit" id="odoTripUnit">km</span>
                        <button class="odo-reset" id="btnResetTrip" title="Reset trip">↺</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status indicators -->
        <div class="status-bar">
            <div class="status-dots">
                <span class="status-dot" id="statusSync" title="ECU">●</span>
                <span class="status-dot" id="statusGPS" title="GPS">●</span>
                <span class="status-knock" id="knockIndicator" title="Knock">K</span>
            </div>
            <a href="/settings.html" class="btn-settings" id="btnConfig" title="Settings">⚙</a>
        </div>

        <!-- Critical values grid -->
        <div class="critical-values">
            <div class="crit-card" id="afrCard">
                <div class="crit-label">AFR</div>
                <div class="crit-value" id="afrValue">--</div>
                <div class="crit-bar">
                    <div class="crit-marker" id="afrMarker"></div>
                    <div class="afr-zones">
                        <span class="rich">R</span>
                        <span class="stoich">λ</span>
                        <span class="lean">L</span>
                    </div>
                </div>
            </div>

            <div class="crit-card" id="boostCard">
                <div class="crit-label">BOOST</div>
                <div class="crit-value-row">
                    <span class="crit-num" id="boostValue">--</span>
                    <span class="crit-unit" id="boostUnit">PSI</span>
                </div>
                <div class="crit-bar-v">
                    <div class="crit-bar-fill" id="boostBar"></div>
                </div>
            </div>

            <div class="crit-card" id="oilCard">
                <div class="crit-label">OIL</div>
                <div class="crit-value-row">
                    <span class="crit-num" id="oilValue">--</span>
                    <span class="crit-unit" id="oilUnit">PSI</span>
                </div>
                <div class="crit-bar-v">
                    <div class="crit-bar-fill warn-low" id="oilBar"></div>
                </div>
            </div>

            <div class="crit-card" id="cltCard">
                <div class="crit-label">COOLANT</div>
                <div class="crit-value-row">
                    <span class="crit-num" id="cltValue">--</span>
                    <span class="crit-unit" id="cltUnit">°C</span>
                </div>
                <div class="crit-bar-v">
                    <div class="crit-bar-fill temp-gradient" id="cltBar"></div>
                </div>
            </div>

            <div class="crit-card" id="iatCard">
                <div class="crit-label">INTAKE</div>
                <div class="crit-value-row">
                    <span class="crit-num" id="iatValue">--</span>
                    <span class="crit-unit" id="iatUnit">°C</span>
                </div>
                <div class="crit-bar-v">
                    <div class="crit-bar-fill iat-gradient" id="iatBar"></div>
                </div>
            </div>

            <div class="crit-card" id="knockCard">
                <div class="crit-label">KNOCK</div>
                <div class="crit-knock-row">
                    <div class="knock-item">
                        <span class="knock-label">CNT</span>
                        <span class="knock-value" id="knockCount">0</span>
                    </div>
                    <div class="knock-item">
                        <span class="knock-label">RET</span>
                        <span class="knock-value" id="knockRetard">0°</span>
                    </div>
                </div>
                <div class="knock-bar">
                    <div class="knock-fill" id="knockBar"></div>
                </div>
            </div>

            <!-- HP Estimation -->
            <div class="crit-card hp-card" id="hpCard">
                <div class="crit-label">~HP</div>
                <div class="crit-value-row">
                    <span class="crit-num hp-num" id="hpValue">0</span>
                    <span class="crit-unit">WHP</span>
                </div>
                <div class="hp-peak-row">
                    <span class="hp-peak-label">PEAK</span>
                    <span class="hp-peak-val" id="hpPeak">0</span>
                    <button class="hp-reset" id="btnResetHP" title="Reset peak">↺</button>
                </div>
                <div class="crit-bar-v">
                    <div class="crit-bar-fill hp-gradient" id="hpBar"></div>
                </div>
            </div>
        </div>

        <!-- Connection status -->
        <div class="connection-banner" id="connectionBanner">
            <span class="conn-dot">●</span> DISCONNECTED — Reconnecting...
        </div>

        <!-- Warning overlay -->
        <div class="warning-overlay" id="warningOverlay">
            <div class="warning-content">
                <div class="warning-text" id="warningText"></div>
            </div>
        </div>
    </div>

    <script src="shared.js"></script>
    <script src="dash.js"></script>
</body>

</html>